<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table td {
            border: 1px solid rgb(34, 104, 109);
            margin: 0px;
            padding: 0px;
            text-align: center;
        }

        table {
            width: 500px;
            margin: 50px auto;
        }

        #div1 {
            width: 500px;
            margin: auto;
        }

        a {
            text-decoration: none
        }
    </style>
    <script>      
        window.onload = function () {
            var oTable = document.getElementById('table1');//获取table
            var oTbody = oTable.getElementsByTagName('tbody')[0];//获取table里的Tbody，【0】为第一个Tbody
            var oTr = oTbody.getElementsByTagName('tr');//获取tbody里的tr，为数组。
            var id = oTr.length + 1//id=tr长度+1
            var oName = document.getElementById('name');
            var oAge = document.getElementById('age');
            var oBtn = document.getElementById('btn1');
            var oStr = document.getElementById('str');
            var oSearch = document.getElementById('search');
            oBtn.onclick = function () {
                var ctr = document.createElement('tr'); //创建tr

                var ctd = document.createElement('td'); //创建td
                ctd.innerHTML = id++;//td 插入id，id++为了避免重复id
                ctr.appendChild(ctd); //td插入到tr

                var ctd = document.createElement('td');
                ctd.innerHTML = oName.value;
                ctr.appendChild(ctd);

                var ctd = document.createElement('td');
                ctd.innerHTML = oAge.value;
                ctr.appendChild(ctd);

                var ctd = document.createElement('td');
                ctd.innerHTML = '<a href="javascript:;">删除<a/>';
                ctr.appendChild(ctd);

                oTbody.appendChild(ctr);

                ctd.getElementsByTagName('a')[0].onclick = function () {
                    oTbody.removeChild(this.parentNode.parentNode);//移除 tr
                }

            }

            oSearch.onclick=function(){
                for(var i=0;i<oTr.length;i++){
                    var sTab=oTr[i].cells[1].innerHTML.toLowerCase();
                    var sTxt=oStr.value.toLowerCase();
                  
                    
                            if(sTab.search(sTxt)!=-1){
                            oTr[i].style.background="yellow";
                        }else{
                            oTr[i].style.background="";
                        }
                   
                }
            }

        };
    </script>
</head>


<body>
    <div id="div1">
        <label for="name">姓名</label>
        <input type="text" name="" id="name">
        <label for="age">年龄</label>
        <input type="text" name="" id="age">
        <input type="button" value="添加" id="btn1">
        <br>
        <br>
        <label for="str">姓名</label>
        <input type="text" name="" id="str">
        <input type="button" value="查找" id="search">

    </div>
    <table cellspacing="0" id="table1">
        <thead>
            <tr>
                <td>学号</td>
                <td>姓名</td>
                <td>年龄</td>
                <td>管理</td>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</body>

</html>